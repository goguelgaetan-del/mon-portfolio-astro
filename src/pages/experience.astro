---
import PageLayout from "~/layouts/PageLayout.astro";
import Timeline from "~/components/Timeline.astro";
import ExperienceCard from "~/components/ExperienceCard.astro";
import { experiences } from "~/data/experiences.js";
---

<PageLayout 
  title="Expériences – Gaëtan Goguel de Toux"
  description="Toutes les expériences professionnelles de Gaëtan Goguel de Toux."
>
  <section class="container" style="margin-top: 40px; max-width: 900px;">
    <h1 style="font-size: 2.2rem; margin-bottom: 24px;">Expériences</h1>

    <p style="color: #9ca3af;">
      Voici un aperçu structuré de mon parcours professionnel, depuis mes années dans l’armée jusqu'à 
      ma reconversion vers l'administration systèmes & réseaux.
    </p>

    <!-- Vue frise chronologique -->
    <Timeline items={experiences} />

    <!-- Vue cartes détaillées -->
    <h2 style="margin-top: 40px; margin-bottom: 16px; font-size: 1.4rem;">
      Détail des missions
    </h2>

    <div class="xp-grid">
      {experiences.map((exp) => (
        <ExperienceCard {...exp} />
      ))}
    </div>
  </section>
</PageLayout>

<style>
  .xp-grid {
    display: grid;
    gap: 20px;
    grid-template-columns: 1fr;
  }

  @media (min-width: 768px) {
    .xp-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }
</style>
